(()=>{"use strict";let e,t=0;function n(){let n=t;return t=0,clearInterval(e),n}const i=s=>{let l=-1,o=-1,c=!0;const d=document.querySelector(".app");if(null!==d){!function(e,t){e.innerHTML='<section class="cards">\n                    <div class="cards__title">\n                        <div class="cards__time time">\n                            <div class="time__units">min</div>\n                            <div class="time__units time__units--sek">sek</div>\n                            <div class="time__value">\n                            <div class="time__value--minutes">00</div>.\n                            <div class="time__value--seconds">00</div>\n                            </div>\n                        </div>\n                        <form action="" class="start-again">\n                            <button type="submit">Начать заново</button>\n                        </form>\n                    </div>\n                    <div class="cards__wrapper">\n                    </div>\n                </section>\n                <div class="cards__modal modal">\n                    <div class="modal__content"></div>\n                </div>';const n=document.querySelector(".start-again");null==n||n.addEventListener("submit",(()=>{i(t)}))}(d,s);const r=document.querySelector(".time__value--minutes"),u=document.querySelector(".time__value--seconds");((i,s,a,l)=>{const o=["spades","hearts","diamonds","crosses"],c=[6,7,8,9,10,"jack","queen","king","ace"];let d=[];for(let e=0;e<s/2;e++){const e={};let t,n;do{t=o[Math.floor(Math.random()*o.length)],n=c[Math.floor(Math.random()*c.length)]}while(d.some((e=>Object.values(e)[0]===n&&Object.keys(e)[0]===t)));e[t]=n,d.push(e),d.push(e)}d=(e=>{let t,n=e.length;if(2===e.length)return[e[0],e[1]]=[e[1],e[0]],e;for(;0!==n;)t=Math.floor(Math.random()*n),n--,[e[n],e[t]]=[e[t],e[n]];return e})(d);for(const e of d)for(const t in e)i.innerHTML+=`<div class="cards_item card" data-card = "${e[t]} ${t}">\n            <img\n                class="card__open-image"\n                src="./static/images/cards/${e[t]} ${t}.png"\n            />\n            <img\n                class="card__image hidden"\n                src="./static/images/Mask group.svg"\n                alt="Закрытая карта"\n            />\n        </div>`;const r=document.querySelectorAll(".card__image"),u=document.querySelectorAll(".card__open-image");setTimeout((()=>{for(const e of u)e.classList.add("hidden");for(const e of r)e.classList.remove("hidden");null!==a&&null!==l&&function(i,s){n();let a=0,l=0;e=setInterval((function(){t+=1,a=Math.floor(t)-60*Math.floor(t/60),l=Math.floor(t/60),i.innerHTML=String(a<10?"0"+a.toString():a),s.innerHTML=String(l<10?"0"+l.toString():l)}),1e3)}(a,l)}),3e3)})(document.querySelector(".cards__wrapper"),s,u,r);const m=document.querySelectorAll(".cards_item");m.forEach(((e,t)=>{e.addEventListener("click",(()=>{var i,s;!0!==c||e.classList.contains("success")||(null===(i=e.querySelector(".card__open-image"))||void 0===i||i.classList.remove("hidden"),null===(s=e.querySelector(".card__image"))||void 0===s||s.classList.add("hidden"),-1===l?l=t:t!==l&&(o=t,c=!1),-1!==l&&-1!==o&&l!==o&&(m[l].dataset.card===m[o].dataset.card?setTimeout((()=>{m[l].classList.add("success"),m[o].classList.add("success"),c=!0,l=-1,o=-1,Array.from(m).every((e=>e.classList.contains("success")))&&function(){const e=n(),t=Math.floor(e)-60*Math.floor(e/60),i=Math.floor(e/60),s=document.querySelector(".cards__modal");setTimeout((()=>{s&&function(e,t,n){var i;const s=e.querySelector(".modal__content");e.style.display="block",s.innerHTML=`<img class="modal__image" height="92px" src="./static/images/celebration.svg" alt="">\n    <div class="modal__title">Вы выиграли!</div>\n    <div class="modal__time">\n        <div class="modal__text"> Затраченное время:</div>\n        <div class="modal__time-value">\n            <div class="time__value--minutes">${n<10?"0"+n.toString():n}</div>.\n            <div class="time__value--seconds">${t<10?"0"+t.toString():t}</div>\n        </div>\n    </div>\n    <button class="button" id="game-again">Играть снова</button>`,null===(i=document.getElementById("game-again"))||void 0===i||i.addEventListener("click",(()=>a()))}(s,t,i)}),500)}()}),500):function(){const e=n(),t=Math.floor(e)-60*Math.floor(e/60),i=Math.floor(e/60),s=document.querySelector(".cards__modal");setTimeout((()=>{s&&function(e,t,n){var i;const s=e.querySelector(".modal__content");e.style.display="block",s.innerHTML=`<img class="modal__image" height="92px" src="./static/images/dead.svg" alt="">\n    <div class="modal__title">Вы проиграли!</div>\n    <div class="modal__time">\n        <div class="modal__text"> Затраченное время:</div>\n        <div class="modal__time-value">\n                <div class="time__value--minutes">${n<10?"0"+n.toString():n}</div>.\n                <div class="time__value--seconds">${t<10?"0"+t.toString():t}</div>\n            </div>\n    </div>\n    <button class="button" id="game-again">Играть снова</button>`,null===(i=document.getElementById("game-again"))||void 0===i||i.addEventListener("click",(()=>a()))}(s,t,i)}),500)}()))}))}))}};function s(e){let t;return window.level=+e.value,t=1===window.level?6:2===window.level?12:18,t}const a=()=>{const e=document.querySelector(".app");if(null!==e){!function(e){e.innerHTML='<section class="complexity">\n                <h1 class="complexity__title">Выбери сложность</h1>\n                <form action="" class="complexity__form">\n                    <div class="complexity__levels">\n                        <div class="complexity__level">\n                            <input\n                                type="radio"\n                                name="level"\n                                class="radio-input"\n                                value="1"\n                                id="radio1"\n                            />\n                            <label for="radio1">1</label>\n                        </div>\n                        <div class="complexity__level">\n                            <input\n                                type="radio"\n                                name="level"\n                                class="radio-input"\n                                value="2"\n                                id="radio2"\n                            />\n                            <label for="radio2">2</label>\n                        </div>\n                        <div class="complexity__level">\n                            <input\n                                type="radio"\n                                name="level"\n                                class="radio-input"\n                                value="3"\n                                id="radio3"\n                            />\n                            <label for="radio3">3</label>\n                        </div>\n                    </div>\n                    <button class="complexity__button btn-start">Старт</button>\n                </form>\n            </section>'}(e);const t=document.querySelectorAll(".radio-input"),n=document.querySelector(".complexity__form");null==n||n.addEventListener("submit",(()=>{for(const e of t)if(e.checked){const t=s(e);i(t)}}))}};a()})();